serviceAccount:
  create: true
  name: opslevel-agent
  labels: {}
  annotations: {}
  rules: # Depending on what resources you want the agent to synchronize you will have to adjust these permissions
    - apiGroups:
        - ""
      resources:
        - "services"
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - "apps"
      resources:
        - "deployments"
        - "statefulsets"
        - "daemonsets"
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - "batch"
      resources:
        - "cronjobs"
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - "apiregistration.k8s.io"
      resources:
        - "apiservices"
      verbs:
        - get
        - list
        - watch

# You can use this configmap to instruct the agent which resources to synchronize
# only supports resources found in 'kubectl api-resources --verbs="get,list"'
configmap:
  create: false
  name: opslevel-agent
  labels: {}
  annotations: {}
  data:
    config.yaml: |
      selectors:
      - apiVersion: "v1"
        kind: Namespace
      - apiVersion: "apps/v1"
        kind: Deployment
      - apiVersion: "apps/v1"
        kind: StatefulSet
      - apiVersion: "apps/v1"
        kind: DaemonSet
      - apiVersion: "networking.k8s.io/v1"
        kind: Ingress
      - apiVersion: "v1"
        kind: Service
      - apiVersion: "batch/v1"
        kind: CronJob

secret:
  create: true
  name: opslevel-agent
  labels: {}
  annotations: {}
  data:
    OPSLEVEL_API_TOKEN: ""

agent:
  name: opslevel-agent
  image:
    repository: "public.ecr.aws/opslevel/opslevel-agent"
    tag: "v2025.8.29"
  integration: "kubernetes"
  labels: {}
  annotations: {}
  extra:
    spec: {}
    containers: {}
